{% extends "base.html" %}

{% block sidebar %}
{% include "includes/sidebar_input.html" %}

<!-- Sidebar Banner -->
{{ sidebar_banner_html | safe }}
{% endblock %}

{% block content %}
<!-- ìš°ì¸¡: ê¿ˆí•´ëª½ ê²€ìƒ‰ ë° ê²°ê³¼ -->
<div class="result-container">
    <!-- ì»¨í…ì¸  ìƒë‹¨ ë°°ë„ˆ -->


    <div class="glass-card">
        <div class="section-header">
            <span>ğŸ’­</span> ê¿ˆí•´ëª½
        </div>

        <!-- ê²€ìƒ‰ ì…ë ¥ í•„ë“œ -->
        <h3 style="color: var(--gold-primary); margin-top: 1.5rem; margin-bottom: 1rem;">ğŸ” ê¿ˆ í‚¤ì›Œë“œ ê²€ìƒ‰</h3>

        <form id="dream-search-form" style="margin-bottom: 1.5rem;">
            <div style="display: flex; gap: 0.5rem;">
                <input type="text" id="dream-search-input" placeholder="ì˜ˆ: ë±€, ë¬¼, ì§‘ ë“±" value="{{ keyword }}"
                    style="flex: 1; padding: 0.75rem; border: 1px solid var(--border-gold); border-radius: 8px; background: var(--navy-glass); color: var(--text-primary);">
                <button type="submit"
                    style="padding: 0.75rem 1.5rem; background: var(--gold-gradient); border: none; border-radius: 8px; color: var(--bg-dark); font-weight: bold; cursor: pointer;">
                    ê²€ìƒ‰
                </button>
            </div>
        </form>

        <!-- ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
        <div id="dream-result-container" style="display: none;"></div>

        <!-- ê³µìœ í•˜ê¸° ë²„íŠ¼ ì˜ì—­ -->
        <div id="dream-share" style="display: none;">
            {% include "includes/share_buttons.html" %}
        </div>
    </div>

    <!-- ë¶„ë¥˜ë³„ í‚¤ì›Œë“œ -->
    <div class="glass-card" style="margin-top: 1.5rem;">
        <h3 style="color: var(--gold-primary); margin-bottom: 1rem;">ğŸ“š ë¶„ë¥˜ë³„ í‚¤ì›Œë“œ</h3>
        <p style="color: #A0AEC0; font-size: 0.9em; margin-bottom: 1rem;">í‚¤ì›Œë“œë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ê²€ìƒ‰ë©ë‹ˆë‹¤.</p>

        <div id="dream-categories-container"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // í˜ì´ì§€ ì„¤ì •
    window.DREAM_CONFIG = {
        initialKeyword: "{{ keyword | replace('\"', '\\\"') if keyword else '' }}"
    };
</script>
<script src="/static/js/pages/dream.js"></script>
{% endblock %}